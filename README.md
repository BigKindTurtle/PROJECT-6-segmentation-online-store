# Проект 6. Сегментация клиентов онлайн-магазина подарков

## Оглавление
1. Описание проекта
2. Преобразование, очистка и анализ представленных данных
3. Построение RFM-таблицы и поиск выбросов
4. Моделирование и оценка качества моделей
5. Выводы
## 1. Описание проекта
Для анализа используются транзакционные данные интернет-магазина, содержащие 6 основных аналитических показателей. Датасет включает 541909 записей за период примерно два года. Основная цель исследования заключается в сегментации клиентской базы на несколько основных групп для повышения эффективности маркетинговых кампаний.
## 2.  Преобразование, очистка и анализ представленных данных
Этап предварительной обработки данных включал устранение пропущенных значений и дубликатов, корректировку записей, связанных с возвратами товаров, а также исключение транзакций без указания контрагентов. Дополнительно из датасета были удалены специфические операции, не отражающие потребительское поведение клиентов (всего выявлено 6 типов таких транзакций).Исследовательский анализ данных выявил, что база содержит информацию о 4334 уникальных покупателях из 37 стран, которые приобрели 3659 различных товаров. В структуре клиентской базы значительно преобладают покупатели из Великобритании. Анализ временных паттернов показал стандартные закономерности деловой активности: снижение летом, рост осенью, максимум в предновогодний период и аналогичные тренды по дням недели и часам. Примечательно, что в данных полностью отсутствуют записи за субботы.
## 3.  Построением RFM-таблицы и поиск выбросов
В процессе обработки данных были рассчитаны три ключевых аналитических показателя: Recency (давность последней покупки), Frequency (общее число покупок) и Monetary Value (бюджет покупок), которые определялись индивидуально для каждого клиента. При анализе выявлены значительные выбросы по количеству покупок и размерам трат. Для их исключения применялось ограничение на уровне 95-го перцентиля, что соответствует более 13 покупкам и тратам свыше 5659. После применения указанных ограничений итоговая выборка составила 4044 уникальных клиента, которые и подлежали дальнейшей кластеризации.
## 4.  Моделирование и оценка качества моделей
Представленный алгоритм выполняет предобработку данных и проводит сравнительный анализ трех ведущих методов кластеризации (K-means, иерархическая кластеризация и модель гаусовской смеси) с целью определения оптимального решения. В начале подключаются требуемые библиотеки для анализа данных и построения визуализаций, включая инструменты нормализации признаков, метод главных компонент, алгоритмы кластеризации и метрику коэффициента силуэта для оценки качества группировки.Формируется конвейер обработки, который включает стандартизацию характеристик (нормализация распределения) и уменьшение количества измерений через применение анализа главных компонент.Программа автоматически определяет наиболее эффективный алгоритм и находит оптимальное число кластеров на основе коэффициента силуэта. После этого выполняется подробная визуализация и статистическое исследование сформированных групп.Данный подход обеспечивает автоматизированный выбор лучшей модели кластеризации для наиболее результативного анализа структуры данных.Определение оптимального числа кластеров для отобранных методов осуществляется через коэффициент силуэта в диапазоне от 3 до 10 кластеров (другие значения нецелесообразны для маркетинговых задач).
Характеристики данных после обработки: 4044 наблюдения по 2 признакам. Доля объясненной дисперсии компонентами PCA: 67,7% и 24,0%. Общая объясненная дисперсия составляет 91,8%. Результаты оценки методов:K-means: оптимально 3 кластера с коэффициентом силуэта 0,5242. Иерархическая кластеризация: оптимально 2 кластера с коэффициентом силуэта 0,5234.  Гаусовская смесь: оптимально 3 кластера с коэффициентом силуэта 0,4361
## 5.  Результат
В результате анализа были определены три ключевые группы покупателей со следующими характеристиками:
Группа 0 - малоактивные (999 клиентов): давность последней покупки составляет 253,5 дня, частота заказов 1,4, денежная стоимость 386,3 единицы
Группа 1 - высокодоходные (776 клиентов): давность 31,9 дня, частота 7,1 заказа, стоимость 2657,7 единиц
Группа 2 - переходная (2269 клиентов): давность 51,2 дня, частота 2,3 заказа, стоимость 660,1 единица
Исследование показало существование трех четких сегментов: малоактивные покупатели с редкими заказами, высокодоходные клиенты с регулярной активностью и переходная категория со средними показателями. Последняя группа представляет особый интерес, поскольку обладает потенциалом для перевода в более активный сегмент через целенаправленные маркетинговые воздействия, основанные на отслеживании периодичности и объема покупок.